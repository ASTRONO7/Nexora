import type { Integration, IntegrationProject, PermissionLevel, SyncFrequency } from '../types/integrations';

const DEFAULT_SETTINGS = {
    permissions: 'read_only' as PermissionLevel,
    importProjects: true,
    importTasks: true,
    importFiles: true,
    allowAISummary: true,
    allowAIActions: false,
    autoSync: false,
    syncFrequency: 'manual' as SyncFrequency,
};

export const MOCK_INTEGRATIONS: Integration[] = [
    {
        id: 'github',
        name: 'GitHub',
        description: 'Repositories, issues, pull requests, commits, and project boards',
        icon: 'Github',
        color: '#24292F',
        gradient: 'linear-gradient(135deg, #24292F, #40464D)',
        status: 'connected',
        connectedAt: '2023-10-15T10:00:00Z',
        lastSynced: '2 min ago',
        syncedItems: 847,
        settings: { ...DEFAULT_SETTINGS, permissions: 'read_only' },
    },
    {
        id: 'notion',
        name: 'Notion',
        description: 'Databases, project docs, roadmaps, tasks, and notes',
        icon: 'BookOpen',
        color: '#000000',
        gradient: 'linear-gradient(135deg, #000000, #2D2D2D)',
        status: 'connected',
        connectedAt: '2023-10-15T10:05:00Z',
        lastSynced: '5 min ago',
        syncedItems: 234,
        settings: { ...DEFAULT_SETTINGS, permissions: 'suggest', allowAIActions: true },
    },
    {
        id: 'slack',
        name: 'Slack',
        description: 'Channels, project discussions, mentions, and shared files',
        icon: 'MessageSquare',
        color: '#4A154B',
        gradient: 'linear-gradient(135deg, #4A154B, #7C3085)',
        status: 'disconnected',
        settings: DEFAULT_SETTINGS,
    },
    {
        id: 'linear',
        name: 'Linear',
        description: 'Issues, sprint progress, bugs, and feature requests',
        icon: 'Layers',
        color: '#5E6AD2',
        gradient: 'linear-gradient(135deg, #5E6AD2, #8B93E8)',
        status: 'disconnected',
        settings: DEFAULT_SETTINGS,
    },
    {
        id: 'cloud_storage',
        name: 'Cloud Storage',
        description: 'Pitch decks, documents, designs, and media assets',
        icon: 'Cloud',
        color: '#4285F4',
        gradient: 'linear-gradient(135deg, #4285F4, #6FA3F7)',
        status: 'connected',
        connectedAt: '2023-11-01T09:30:00Z',
        lastSynced: '12 min ago',
        syncedItems: 56,
        settings: { ...DEFAULT_SETTINGS, autoSync: true, syncFrequency: '1h' },
    },
    {
        id: 'internal_api',
        name: 'Internal API',
        description: 'Your own apps — user projects, AI memory, analytics, and usage data',
        icon: 'Cpu',
        color: '#10B981',
        gradient: 'linear-gradient(135deg, #10B981, #34D399)',
        status: 'disconnected',
        comingSoon: true,
        settings: DEFAULT_SETTINGS,
    },
];

export const MOCK_PROJECTS: IntegrationProject[] = [
    {
        id: 'proj-1',
        name: 'Nexora AI',
        description: 'Next-gen AI workspace platform — the intelligent OS for builders',
        sources: ['github', 'notion', 'cloud_storage'],
        linkedSources: [
            { id: 'repo-1', integrationId: 'github', name: 'nexora-web', type: 'repo', url: 'https://github.com/nexora/web' },
            { id: 'db-1', integrationId: 'notion', name: 'Nexora Roadmap', type: 'database', url: 'https://notion.so/nexora/roadmap' },
            { id: 'folder-1', integrationId: 'cloud_storage', name: 'Nexora Design', type: 'folder' },
        ],
        status: 'active',
        progress: 68,
        color: '#3B82F6',
        lastActivity: '1h ago',
        stats: {
            tasks: { total: 42, completed: 28, inProgress: 8, pending: 6 },
            docs: { total: 12, recent: ['Product Roadmap', 'Architecture Doc', 'API Reference'] },
            commits: { total: 347, lastCommitAgo: '2h ago', contributors: 4 },
            issues: { open: 7, closed: 89 },
            pullRequests: { open: 3, merged: 64 },
            files: { total: 18, types: ['Figma', 'PDF', 'PNG'] },
        },
        aiInsights: [
            {
                id: 'ins-1',
                type: 'blocker',
                title: 'Frontend Performance Regression',
                description: 'Dashboard render time increased 40% after commit #347. Main issue traced to unoptimized re-renders in ProjectCard component.',
                priority: 'high',
                relatedSource: 'github',
                timestamp: '30 min ago',
            },
            {
                id: 'ins-2',
                type: 'progress',
                title: 'Sprint Ahead of Schedule',
                description: 'Current sprint is 15% ahead of estimated timeline. 8/10 features completed with 3 days remaining.',
                priority: 'low',
                timestamp: '2h ago',
            },
            {
                id: 'ins-3',
                type: 'suggestion',
                title: 'Consider Dark Mode Contrast',
                description: 'Notion docs indicate UI redesign upcoming. Recommend auditing dark mode contrast ratios before the milestone.',
                priority: 'medium',
                relatedSource: 'notion',
                timestamp: '4h ago',
            },
        ],
        activities: [
            { id: 'act-1', type: 'commit', title: 'feat: add integration dashboard', description: 'Merged to main branch', source: 'github', timestamp: '2h ago', user: 'Rishabh' },
            { id: 'act-2', type: 'doc_updated', title: 'Product Roadmap v2.1', description: 'Updated Q1 milestones and priorities', source: 'notion', timestamp: '3h ago', user: 'Rishabh' },
            { id: 'act-3', type: 'pr_merged', title: 'PR #64: Settings redesign', description: '12 files changed, 489 additions', source: 'github', timestamp: '5h ago', user: 'Alex' },
            { id: 'act-4', type: 'file_uploaded', title: 'Dashboard Mockup v3.fig', description: 'Uploaded to project assets', source: 'cloud_storage', timestamp: '6h ago', user: 'Sarah' },
            { id: 'act-5', type: 'task_completed', title: 'Implement Firebase Auth', description: 'Marked as done', source: 'notion', timestamp: '8h ago', user: 'Rishabh' },
        ],
    },
    {
        id: 'proj-2',
        name: 'Startup Dashboard',
        description: 'Analytics dashboard for tracking startup metrics and KPIs',
        sources: ['github', 'notion'],
        linkedSources: [
            { id: 'repo-2', integrationId: 'github', name: 'startup-dash', type: 'repo' },
            { id: 'db-2', integrationId: 'notion', name: 'Dashboard Specs', type: 'database' },
        ],
        status: 'active',
        progress: 45,
        color: '#F59E0B',
        lastActivity: '3h ago',
        stats: {
            tasks: { total: 24, completed: 11, inProgress: 5, pending: 8 },
            docs: { total: 6, recent: ['Pitch Deck', 'Market Research', 'Strategy Doc'] },
            commits: { total: 156, lastCommitAgo: '3h ago', contributors: 2 },
            issues: { open: 12, closed: 34 },
            pullRequests: { open: 2, merged: 28 },
        },
        aiInsights: [
            {
                id: 'ins-4',
                type: 'warning',
                title: 'Milestone at Risk',
                description: 'UI redesign milestone is delayed by 2 days. Main blocker: frontend bug from GitHub issue #24.',
                priority: 'critical',
                relatedSource: 'github',
                timestamp: '1h ago',
            },
            {
                id: 'ins-5',
                type: 'suggestion',
                title: 'Prioritize Mobile Responsiveness',
                description: '73% of beta users access from mobile. Consider prioritizing mobile-first layout in the next sprint.',
                priority: 'medium',
                timestamp: '5h ago',
            },
        ],
        activities: [
            { id: 'act-6', type: 'issue_opened', title: 'Issue #24: Mobile layout broken', description: 'Critical UI bug on iOS Safari', source: 'github', timestamp: '3h ago', user: 'Alex' },
            { id: 'act-7', type: 'doc_updated', title: 'Pitch Deck - Final Draft', description: 'Added investor feedback sections', source: 'notion', timestamp: '5h ago', user: 'Rishabh' },
            { id: 'act-8', type: 'commit', title: 'fix: responsive grid layout', description: 'Pushed to feature/mobile branch', source: 'github', timestamp: '6h ago', user: 'Alex' },
        ],
    },
    {
        id: 'proj-3',
        name: 'Design System',
        description: 'Unified component library and design tokens for all products',
        sources: ['github', 'cloud_storage'],
        linkedSources: [
            { id: 'repo-3', integrationId: 'github', name: 'design-system', type: 'repo' },
            { id: 'folder-2', integrationId: 'cloud_storage', name: 'Assets/Icons', type: 'folder' },
        ],
        status: 'active',
        progress: 82,
        color: '#8B5CF6',
        lastActivity: '30m ago',
        stats: {
            tasks: { total: 18, completed: 15, inProgress: 2, pending: 1 },
            commits: { total: 89, lastCommitAgo: '30m ago', contributors: 3 },
            issues: { open: 2, closed: 41 },
            pullRequests: { open: 1, merged: 37 },
            files: { total: 42, types: ['SVG', 'Figma', 'PNG', 'JSON'] },
        },
        aiInsights: [
            {
                id: 'ins-6',
                type: 'achievement',
                title: 'Near Completion',
                description: 'Design system is 82% complete. Only button variants and dark mode tokens remain.',
                priority: 'low',
                timestamp: '1h ago',
            },
        ],
        activities: [
            { id: 'act-9', type: 'commit', title: 'feat: add icon set v2', description: '48 new icons added', source: 'github', timestamp: '30m ago', user: 'Sarah' },
            { id: 'act-10', type: 'file_uploaded', title: 'Color Palette v4.fig', description: 'Updated brand colors', source: 'cloud_storage', timestamp: '2h ago', user: 'Sarah' },
        ],
    },
    {
        id: 'proj-4',
        name: 'Marketing Site',
        description: 'Landing page and marketing website for Nexora',
        sources: ['github', 'notion', 'cloud_storage'],
        linkedSources: [
            { id: 'repo-4', integrationId: 'github', name: 'www-nexora', type: 'repo' },
        ],
        status: 'paused',
        progress: 35,
        color: '#EC4899',
        lastActivity: '2d ago',
        stats: {
            tasks: { total: 16, completed: 6, inProgress: 0, pending: 10 },
            docs: { total: 4, recent: ['Copy Brief', 'SEO Strategy'] },
            commits: { total: 45, lastCommitAgo: '2d ago', contributors: 2 },
            issues: { open: 5, closed: 12 },
            pullRequests: { open: 0, merged: 11 },
            files: { total: 8, types: ['PNG', 'WebP', 'PDF'] },
        },
        aiInsights: [
            {
                id: 'ins-7',
                type: 'warning',
                title: 'Project Stalled',
                description: 'No activity in 2 days. 10 tasks pending. Consider resuming or deprioritizing.',
                priority: 'medium',
                timestamp: '1d ago',
            },
        ],
        activities: [
            { id: 'act-11', type: 'commit', title: 'style: hero section polish', description: 'Updated gradients and typography', source: 'github', timestamp: '2d ago', user: 'Rishabh' },
        ],
    },
];

export const MOCK_DISCOVERED_PROJECTS: IntegrationProject[] = [
    {
        id: 'disc-1',
        name: 'Project Orion',
        description: 'Secret project discovered from repositories',
        sources: ['github'],
        linkedSources: [
            { id: 'repo-5', integrationId: 'github', name: 'project-orion', type: 'repo' }
        ],
        status: 'at_risk',
        stats: {
            tasks: { total: 5, completed: 0, inProgress: 1, pending: 4 },
        },
        lastActivity: '3d ago',
        progress: 10,
        color: '#6366F1',
        aiInsights: [],
        activities: [],
        confidenceScore: 0.9,
        isDiscovered: true,
    },
    {
        id: 'disc-2',
        name: 'Internal Tools',
        description: 'Candidates for internal platform team',
        sources: ['notion'],
        linkedSources: [
            { id: 'db-3', integrationId: 'notion', name: 'Internal Tools Roadmap', type: 'database' }
        ],
        status: 'active',
        stats: {},
        lastActivity: '5h ago',
        progress: 0,
        color: '#10B981',
        aiInsights: [],
        activities: [],
        confidenceScore: 0.7,
        isDiscovered: true,
    },
    // Example of a duplicate that should be merged
    {
        id: 'disc-3',
        name: 'Project Orion Docs',
        description: 'Documentation for Orion',
        sources: ['notion'],
        linkedSources: [
            { id: 'db-4', integrationId: 'notion', name: 'Orion Specs', type: 'database' }
        ],
        status: 'active',
        stats: {},
        lastActivity: '1d ago',
        progress: 0,
        color: '#F43F5E',
        aiInsights: [],
        activities: [],
        confidenceScore: 0.6,
        isDiscovered: true,
    }
];
